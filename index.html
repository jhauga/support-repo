<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OctoPrint Custom Background - Feature Demo</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" href="favicon.png">
    <style>
        body {
            background: #ebebeb;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            font-size: 13px;
            line-height: 20px;
            color: #333;
        }
        .navbar {
            margin-bottom: 20px;
        }
        .navbar-inner {
            background: #fff;
            border-bottom: 1px solid #d4d4d4;
            box-shadow: 0 1px 4px rgba(0,0,0,0.065);
        }
        .navbar .brand {
            color: #333;
            font-weight: bold;
            padding: 10px 20px;
        }
        .container-fluid {
            padding: 0 20px;
        }
        .row-fluid {
            margin-bottom: 20px;
        }
        .span4, .span8 {
            box-sizing: border-box;
        }
        .span4 {
            width: 31%;
            margin-left: 2%;
            float: left;
        }
        .span4:first-child {
            margin-left: 0;
        }
        .span8 {
            width: 66%;
            float: left;
        }
        .accordion-group {
            background: white;
            border: 1px solid #e5e5e5;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .accordion-heading {
            background: #f5f5f5;
            border-bottom: 1px solid #e5e5e5;
            padding: 10px 15px;
            font-weight: bold;
        }
        .accordion-inner {
            padding: 15px;
        }
        #temperature-graph {
            width: 100%;
            height: 350px;
            position: relative;
            border: 1px solid #e5e5e5;
            background-color: #fff;
            background-image: 
                /* Grid lines */
                repeating-linear-gradient(
                    0deg,
                    #e8e8e8,
                    #e8e8e8 1px,
                    transparent 1px,
                    transparent 144px
                ),
                repeating-linear-gradient(
                    90deg,
                    #e8e8e8,
                    #e8e8e8 1px,
                    transparent 1px,
                    transparent 144px
                ),
                /* Background icon */
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><circle cx="100" cy="100" r="80" fill="%234285f4"/><path d="M100 40 L100 80 M100 100 L100 160 M60 100 L80 100 M100 100 L140 100 M75 65 L90 80 M110 80 L125 65 M75 135 L90 120 M110 120 L125 135" stroke="white" stroke-width="8" stroke-linecap="round"/><circle cx="100" cy="100" r="15" fill="white"/><path d="M100 85 C85 85 75 95 75 110 L125 110 C125 95 115 85 100 85 Z" fill="white"/></svg>');
            background-repeat: repeat, repeat, no-repeat;
            background-position: 0 0, 0 0, center center;
            background-size: auto, auto, 30%;
        }
        #temperature-graph::before {
            content: '';
            position: absolute;
            top: 0;
            left: 45px;
            right: 0;
            bottom: 32px;
            pointer-events: none;
        }
        .legend {
            font-size: 11px;
            position: absolute;
            bottom: 10px;
            left: 10px;
        }
        .legend table {
            background: rgba(255,255,255,0.9);
            border: 1px solid #ccc;
            padding: 5px;
        }
        .legend td {
            padding: 2px 5px;
        }
        .legendColorBox div div {
            border: 5px solid;
            width: 0;
            height: 0;
        }
        .temperature-table {
            margin-top: 15px;
        }
        .temperature-table th {
            background: #f5f5f5;
            font-weight: bold;
        }
        .temperature-table td {
            padding: 8px;
        }
        .demo-controls {
            background: #fff9e6;
            border: 2px solid #ffc107;
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .demo-controls h4 {
            margin-top: 0;
            color: #856404;
        }
        .control-group {
            margin-bottom: 15px;
        }
        .control-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .control-group select,
        .control-group input[type="text"] {
            width: 100%;
            padding: 6px;
            border: 1px solid #ccc;
            border-radius: 3px;
            box-sizing: border-box;
        }
        .control-group small {
            display: block;
            color: #666;
            margin-top: 3px;
            font-size: 11px;
        }
        .btn-group {
            margin-top: 15px;
        }
        .new-badge {
            background: #ffc107;
            color: #000;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            font-weight: bold;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <div class="navbar navbar-static-top">
        <div class="navbar-inner">
            <div class="container-fluid">
                <a class="brand" href="#">
                    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><circle cx='10' cy='10' r='8' fill='%2356BE37'/></svg>" width="20" height="20" style="vertical-align: middle; margin-right: 5px;">
                    OctoPrint
                </a>
                <span style="float: right; padding: 10px 20px; color: #999;">Custom Background Feature Demo</span>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row-fluid">
            <!-- Left Sidebar -->
            <div class="span4">
                <!-- Demo Controls -->
                <div class="demo-controls">
                    <h4><i class="fas fa-magic"></i> Feature Demo Controls</h4>
                    <p style="margin-bottom: 15px; color: #856404; font-size: 12px;">
                        Adjust the settings below to see the new <strong>Custom Fill Size</strong> feature in action!
                    </p>

                    <div class="control-group">
                        <label>
                            Image Fill Method
                            <a href="https://www.w3schools.com/cssref/css3_pr_background-size.asp" target="_blank" title="CSS Background Size Reference">
                                <i class="fas fa-info-circle"></i>
                            </a>
                        </label>
                        <select id="fillMethod">
                            <option value="cover">Cover</option>
                            <option value="contain">Contain</option>
                            <option value="100% 100%">Stretch (100% 100%)</option>
                            <option value="auto">Original Size</option>
                            <option value="custom" selected>Custom Value <span class="new-badge">NEW</span></option>
                        </select>
                    </div>

                    <div class="control-group" id="customSizeGroup">
                        <label>
                            Custom Fill Size <span class="new-badge">NEW</span>
                        </label>
                        <input type="text" id="customFillSize" placeholder="e.g., 50%, 100px, auto" value="30%">
                        <small>Enter any valid CSS background-size value</small>
                    </div>

                    <div class="control-group">
                        <label>
                            Background Position
                            <a href="https://www.w3schools.com/cssref/pr_background-position.asp" target="_blank" title="CSS Background Position Reference">
                                <i class="fas fa-info-circle"></i>
                            </a>
                        </label>
                        <input type="text" id="position" value="center center">
                        <small>Control where the background is positioned</small>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary btn-block" onclick="applySettings()">
                            <i class="fas fa-check"></i> Apply Settings
                        </button>
                    </div>
                </div>

                <!-- Info Panel -->
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <i class="fas fa-info-circle"></i> About This Feature
                    </div>
                    <div class="accordion-inner">
                        <p><strong>What's New?</strong></p>
                        <p style="font-size: 12px;">The Custom Value option gives you precise control over background image sizing using any valid CSS value.</p>
                        <p style="font-size: 12px; margin-bottom: 10px;"><strong>Examples:</strong></p>
                        <ul style="font-size: 11px; margin-left: 15px;">
                            <li><code>30%</code> - Scale to 30% of container</li>
                            <li><code>200px</code> - Fixed 200 pixel size</li>
                            <li><code>auto 150px</code> - Auto width, 150px height</li>
                            <li><code>contain</code> - Fit entire image</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="span8">
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <i class="fas fa-thermometer-half"></i> Temperature
                    </div>
                    <div class="accordion-inner">
                        <div id="temperature-graph">
                            <div class="legend">
                                <table>
                                    <tr>
                                        <td><div style="width:0;height:0;border:5px solid red"></div></td>
                                        <td>Actual T: -</td>
                                        <td><div style="width:0;height:0;border:5px solid rgba(255,128,128,1)"></div></td>
                                        <td>Target T: -</td>
                                    </tr>
                                    <tr>
                                        <td><div style="width:0;height:0;border:5px solid blue"></div></td>
                                        <td>Actual Bed: -</td>
                                        <td><div style="width:0;height:0;border:5px solid rgba(128,128,255,1)"></div></td>
                                        <td>Target Bed: -</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <table class="table table-bordered temperature-table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Actual</th>
                                    <th>Target</th>
                                    <th>Offset</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Tool</strong></td>
                                    <td>0.0°C</td>
                                    <td><button class="btn btn-mini">off</button> °C</td>
                                    <td>0 °C</td>
                                </tr>
                                <tr>
                                    <td><strong>Bed</strong></td>
                                    <td>0.0°C</td>
                                    <td><button class="btn btn-mini">off</button> °C</td>
                                    <td>0 °C</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script>
        $(function() {
            // Show/hide custom size input based on selection
            $('#fillMethod').on('change', function() {
                if ($(this).val() === 'custom') {
                    $('#customSizeGroup').slideDown();
                } else {
                    $('#customSizeGroup').slideUp();
                }
            });

            // Initialize
            if ($('#fillMethod').val() === 'custom') {
                $('#customSizeGroup').show();
            }

            // Auto-preview on input
            $('#fillMethod, #customFillSize, #position').on('change input', function() {
                applySettings(true);
            });

            // Initial application
            applySettings(true);
        });

        function applySettings(silent) {
            var fillMethod = $('#fillMethod').val();
            var position = $('#position').val();
            var fillSize;

            if (fillMethod === 'custom') {
                fillSize = $('#customFillSize').val() || '50%';
            } else {
                fillSize = fillMethod;
            }

            $('#temperature-graph').css({
                'background-size': fillSize,
                'background-position': position
            });

            if (!silent) {
                alert('✓ Settings Applied!\n\nBackground Size: ' + fillSize + '\nBackground Position: ' + position + '\n\nThe temperature graph background has been updated with your custom settings.');
            }
        }
    </script>
</body>
</html>
